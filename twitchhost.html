<html>
<head>

<!--Set Background to Black to Avoid "Floating Video" On White-->
<style type="text/css">
	body {
  margin: 0;
  padding: 0;
  border: 0;
  background: #000000;
  overflow: hidden;
  }
  div#player{
	width: 100%;
	height: 100%;
  }
</style>

<title>PlayX Twitch Channel Host</title>

<!-- Load the Twitch embed script -->
<script src="https://player.twitch.tv/js/embed/v1.js"></script>

<script>

	//Get a var from URL
	function get(variable){
       		var query = window.location.search.substring(1);
       		var vars = query.split("&");
       		for (var i=0;i<vars.length;i++) {
       			var pair = vars[i].split("=");
               		if(pair[0] == variable){return pair[1];}
       			}
       		return(false);
	}

	//Get a param from a pure URL Format, so pull a param from a pure ?url= param
	function getByURL(variable, query){
       		var vars = query.split("?");
       		for (var i=0;i<vars.length;i++) {
               		var pair = vars[i].split("=");
               		if(pair[0] == variable){return pair[1];
			}
       		}
       		return(false);
	}

	//Look At URL For Params
	var urlParam = function(name, w){
    		w = w || window;
   		var rx = new RegExp('[\&|\?]'+name+'=([^\&\#]+)'),
		val = w.location.search.match(rx);
    		return !val ? '':val[1];
	}

	//Insert Params Into Vars
	var channel = get('channel');
	var videoId = get('videoId');
	if (channel != false) {
		var data = {
			width: "100%",
			height: "100%",
			channel: channel
		}
	} else if(videoId != false) {
		var data = {
			width: "100%",
			height: "100%",
			video: videoId
	  }
	}	
</script>
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-6XKXQZL55B"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'G-6XKXQZL55B');
	</script>

</head>

  <body>
    <div id="player"></div> 
	<script>
		var player = new Twitch.Player("player", data);
	</script>
  </body>
</html>
