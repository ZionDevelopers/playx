<html>
<head>

<style type="text/css">
	body {
  margin: 0;
  padding: 0;
  border: 0;
  background: #000000;
  overflow: hidden;
  }
</style>

<title>PlayX Native Youtube Host</title>
<script src="https://www.youtube.com/iframe_api"></script>

<script>
//Get a var
function get(variable)
{
       var query = window.location.search.substring(1);
       var vars = query.split("&");
       for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if(pair[0] == variable){return pair[1];}
       }
       return(false);
}
//Separates variable from identifier, returns value of var
function getByURL(variable, query)
{
       var vars = query.split("?");
       for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if(pair[0] == variable){return pair[1];}
       }
       return(false);
}
//Look At URL For Params
var urlParam = function(name, w){
    w = w || window;
    var rx = new RegExp('[\&|\?]'+name+'=([^\&\#]+)'),
        val = w.location.search.match(rx);
    return !val ? '':val[1];
}
	//OLD Params
	//var url = unescape(get("url"));
	//var start = unescape(get("start"));
	//Insert Params Into Vars
	var url = urlParam('url');
	var start = urlParam('start');
	var t = urlParam('t');
	
	if (url.includes("youtube.com") == true){
		var urloutput = getByURL("v", url)
	} else {
		var urloutput = url
	}
	
	//Decode Youtube t=#s#m#h format for universal use --by Science
	if (start === ""){
		if (t != "") {
			if (/^\d+$/.test(t)){
			var startoutput = t
			} else {
				if (t.includes('s')){ var tsec = t.split("s")} else {var tsec = ["", ""]}
				if (t.includes('m')){ var tmin = t.split("m")} else {var tmin = ["", ""]}
				if (t.includes('h')){ var thour = t.split("h")} else {var thour = ["", ""]}
				
				if (tsec.includes('m')){var tsec = t.split("m"); var tsec = [tsec[1], ""]}
				
				if (tsec[0] != "" && tmin[0] == "" && thour[0] == "") {
				    var startoutput = parseInt(tsec[0]);
				    console.log("Start is Seconds")
				}
				else if (tsec[0] != "" && tmin[0] != "" && thour[0] == "") {
				    var startoutput = (parseInt(tsec[0]) + (parseInt(tmin[0]) * 60));
				    console.log("Start is Seconds with Minutes")
				}
				else if (tsec[0] != "" && tmin[0] != "" && thour[0] != "") {
				    var startoutput = (parseInt(tsec[0]) + (parseInt(tmin[0]) * 60) + (parseInt(thour[0]) * 3600));
				    console.log("Start is Seconds with Minutes With Hours")
				}
				else if (tsec[0] == "" && tmin[0] == "" && thour[0] != "") {
				    var startoutput = (parseInt(thour[0]) * 3600);
				    console.log("Start is Hours")
				}
				else if (tsec[0] == "" && tmin[0] != "" && thour[0] == "") {
				    var startoutput = (parseInt(tmin[0]) * 60);
				    console.log("Start is Minutes")
				}
				else if (tsec[0] != "" && tmin[0] == "" && thour[0] != "") {
				    var startoutput = ((parseInt(tsec[0]) + (parseInt(thour[0]) * 3600)));
				    console.log("Start is Hours and seconds")
				}
				else if (tsec[0] == "" && tmin[0] != "" && thour[0] != "") {
				    var startoutput = ((parseInt(tmin[0]) * 60) + (parseInt(tmin[0]) * 60));
				    console.log("Start is Hours and Minutes")
				}
			}
					
		}
	} else {
		if (start != "") {
		var startoutput = start
		}
	}
	
	//YouTube Embed Code
	function onYouTubeIframeAPIReady() {
    		player = new YT.Player('player', {
        	"width": window.innerWidth,
		"height": window.innerHeight,
        	videoId: urloutput,
        	playerVars: {
			autoplay: 1,
			showinfo: 0,
			cc_load_policy: 1,
			iv_load_policy: 3,
			disablekb: 1,
			modestbranding: 1,
			rel: 0,
			controls: 0,
			start: startoutput.toString()
        		},
    	});
}
	
	
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	
  ga('create', 'UA-92533032-1', 'auto'); //Science Tracker
  ga('create', 'UA-43230779-1', 'ziondevelopers.github.io'); //Dathus Tracker
  ga('send', 'pageview');
  ga('ziondevelopers.github.io', 'pageview');
	
</script>
</head>

  <body>
    <div id="player"></div> 
  </body>
</html>
