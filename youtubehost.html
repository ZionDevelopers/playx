<html>
<head>

<!--Set Background to Black to Avoid "Floating Video" On White-->
<style type="text/css">
	body {
  margin: 0;
  padding: 0;
  border: 0;
  background: #000000;
  overflow: hidden;
  }
</style>

<title>PlayX Youtube Host</title>
<script src="https://www.youtube.com/iframe_api"></script>

<script>

	//Get a var from URL
	function get(variable){
       		var query = window.location.search.substring(1);
       		var vars = query.split("&");
       		for (var i=0;i<vars.length;i++) {
       			var pair = vars[i].split("=");
               		if(pair[0] == variable){return pair[1];}
       			}
       		return(false);
	}

	//Get a param from a pure URL Format, so pull a param from a pure ?url= param
	function getByURL(variable, query){
       		var vars = query.split("?");
       		for (var i=0;i<vars.length;i++) {
               		var pair = vars[i].split("=");
               		if(pair[0] == variable){return pair[1];
			}
       		}
       		return(false);
	}

	//Look At URL For Params
	var urlParam = function(name, w){
    		w = w || window;
   		var rx = new RegExp('[\&|\?]'+name+'=([^\&\#]+)'),
		val = w.location.search.match(rx);
    		return !val ? '':val[1];
	}

	//Insert Params Into Vars
	var videoId = get('v') || getByURL('v', urlParam('url')) //Set videoId to either plain ?v= or if format is ?url= then get videoId from ?url= (for backwards compatability)
	var start = Math.round(urlParam('start')); //Pull start time param from url (for backwards compatability, new method uses JS)
	
	//YouTube Embed Code
	function onYouTubeIframeAPIReady() {
		player = new YT.Player('player', {
			"width": window.innerWidth,
			"height": window.innerHeight,
			videoId: videoId,
        		playerVars: {
				autoplay: 1,
				showinfo: 0,
				cc_load_policy: 0,
				iv_load_policy: 3,
				disablekb: 1,
				modestbranding: 1,
				rel: 0,
				controls: 0,
				start: start
        		},
			events: {
				'onReady': onPlayerReady
			}
    		});
	}
	
	//Play Video On Ready And Set Resolution (experimental)
	function onPlayerReady(event) {
		event.target.playVideo();
		player.setPlaybackQuality("hd720");
	}
	
	setInterval(var curtime = player.getCurrentTime()), 1);
	
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	
	ga('create', 'UA-92533032-1', 'auto'); //Science Tracker
	ga('create', 'UA-43230779-1', 'ziondevelopers.github.io'); //Dathus Tracker
	ga('send', 'pageview');
	ga('ziondevelopers.github.io', 'pageview');
	
</script>
</head>

  <body>
    <div id="player"></div> 
  </body>
</html>
